-
MTrig_Global
Описание : 
  Это не триггер сам по себе, но используется вместе с другими типами триггеров. 
Триггер который определен как глобальный (global) проверяется даже если в зоне с монстром 
нет ни одного игрока. 
  Лично я еще ни разу его не использовал, и слабо представляю зачем вообще он нужен Ж).
Если у кого-то есть идеи - пишите. 

  Аргумент: Не используется.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
MTrig_Random
Описание : 
  Этот триггер проверяется периодически (примерно каждые 14-15 секунд). 
Триггер не проверяется если нет ни одного игрока в зоне с монстром, за исключением 
триггеров типа Global (см выше). 
  Следует использовать с осторожностью, как и любой постоянно работающий
триггер он нагружает сервер. 

  Аргумент : Не используется.
  Числовой аргумент : Это процентные шансы того, что триггер будет 
запущен в момент проверки.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
MTrig_Command
Описание : 
   Этот триггер проверяется когда персонаж ввел команду.
Если аргумент тригера равен *  - срабатывает на любую введенную команду, 
иначе только на те команды, которые выдают "Вы не можете этого сделать".
(т.е. все слова, кроме обрабатываемых мадом, например на команду
"смотреть" триггер вызван не будет).

  Аргумент : Команда (список слов, подстрока) или *.
  Числовой аргумент : 0 - в аргументе список слов (фразы можно заключать в "")
                      1 - в аргументе подстрока
                      2 - полное соответствие аргументу

  Возвращаемое значение : Если триггер возвращает 0, персонаж получит то-же 
сообщение, как будто триггера не существует и любые другие триггеры типа Command 
будут проверены. 
  Переменные: 
    actor установлена на персонажа, вводившего команду.
    arg установлена на аргумент команды.
    cmd установлена на команду введенную персонажем.
  Триггер выполняется ДО обработки команды.
#0
MTrig_Speech
Описание : 
   Этот триггер проверяется когда кто-то скажет что-то в одной комнате с монстров 
с этим триггером. Если числовой аргумент это 0, триггер проверит, является ли 
аргумент подстрокой того, что было сказано. Если числовой аргумент это 1, триггер 
проверит, совпадает ли любое слово в аргументе со словом, которое было сказано, 
и если это так, триггер будет вызван. 
  Аргумент : Фраза или список слов(или *), которые нужно проверить на совпадение
  Числовой аргумент : 0 - в аргументе список слов (фразы можно заключать в "")
                      1 - в аргументе подстрока
                      2 - полное соответствие аргументу
  <!!>устарело Числовой аргумент : Если он 0, аргумент это фраза. Если 1, аргумент это список слов. 
  Возвращаемое значение : Не используется.
  Переменные: 
    actor установлена на персонажа, который говорит.
    speech установлена на весь текст, который был произнесен.
  Триггер выполняется сразу после того, как фраза сказана.
#0
MTrig_Act
Описание : Этот триггер запускается когда аргумент - подстрока строки текста, 
которую видит монстр. Текст обрабатывается не во всех случаях. (только тот, 
который посылается функцией act() из игры). В обрабатываемые строки входят такие 
сообщения как социалы, сообщения об ударах и от скиллов и другие. Не проверяется 
текст от игроков, полученный от команд эхо, емота, говорить и сказать. Если Вам нужно 
точно узнать, проверяется ли данное сообщение командой Act, спросите это у имплементора. 
  Аргумент : Фраза или список слов для сравнения
  Числовой аргумент : : Если он 0, аргумент это фраза. Если 1, аргумент это список слов. 
  Возвращаемое значение : Не используется.
  Переменные : Не все перечисленные переменные будут установлены. Они зависят от сообщения. 
Если у Вас проблемы с переменными, напишите имплементору. Переменные всегда устанавливаются 
на правильного персонажа или предмет, даже если в тексте использовался заменитель имени 
'кто-то' или 'что-то'. 
    actor установлена на первичного персонажа в тексте.
    victim установлена на вторичного персонажа в тексте.
    object установлена на первичный объект в тексте.
    target установлена на вторичный объект в тексте.
    arg установлена на часть строки, где была использована переменная, например имя двери.

  Триггер выполняется ?????<!!> действия.
#0
MTrig_Death
Описание : Этот триггер проверяется когда монстр умирает.
  Аргумент : Не используется.
  Числовой аргумент : Это процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если возвращаемое значение это 0, предсмертного крика монстра 
(например 'Ваша кровь застыла в жилах от предсмертного крика собаки.') не будет. 
Для любого другого значения будет монстр выполнит и предсмертный крик. 
  Переменные:
     actor будет установлена на убийцу, если он есть.

  Тригер выполняется ДО фактической смерти моба. Тела моба на момент выполнения
триггера еще нет. (монстр еще как-бы жив, но умрет сразу после триггера)
#0
MTrig_Greet
Описание : Этот триггер проверяется когда кто-то входит в комнату и монстр с триггером 
может видеть его. 
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Не используется.
  Переменные:
    actor установлена на персонажа, входящего в комнату.
    direction установлена на название направления, откуда пришел actor. 
    (Точнее направление обратное тому куда ушел actor.) 

  Триггер выполняется сразу после того, как кто-то входит в комнату.
  Если в комнату входит группа, то он выполнится для каждого ее члена.
(исключая случаи, когда в теле триггера есть wait)
#0
MTrig_Greet_All
Описание : Этот триггер делает то-же что и Greet trigger, только монстр при этом не 
обязательно должен видеть входящего. 
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Не используется.
  Переменные:
    actor установлена на персонажа, входящего в комнату.
    direction установлена на название направления, откуда пришел actor. 
    (Точнее направление обратное тому куда ушел actor.)

  Триггер выполняется сразу после того, как кто-то входит в комнату.
  Если в комнату входит группа, то он выполнится для каждого ее члена.
(исключая случаи, когда в теле триггера есть wait)
#0
MTrig_Entry
Описание : 
   !!!ВНИМАНИЕ!!! Я не вижу смысла использовать этот триггер, когда есть 
greet-триггер, поэтому не используйте его. (если конечно у Вас нет каких-нибудь
глубоких мыслей - в этом случае сообщите эти мысли мне)
  Этот триггер проверяется каждый раз когда монстр входит в комнату.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение: Не используется.
  Переменные: Нет.
#0
MTrig_Receive
Описание : Этот триггер проверяется когда монстру дали предмет.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если 0 возвращен, предмет не будет передан монстру. 
 Для любого другого числа произойдет нормальный результат. 
  Переменные:
    actor установлена на персонажа, дающего монстру предмет.
    object установлена на предмет, который дают.

 Триггер вызывается непосредственно ДО того, как предмет будет передан.
Имейте в виду, что если Вы передаете предмет монстру(квест на принести
предмет), то как правило этот предмет необходимо удалить командой mjunk,
но для этого надо подождать пока он окажется у монстра (т.е. должен быть
wait). Если же вы хотите чтобы монстр не брал какие-то предметы, то вы
можете добиться этого возвращая значени 0, но в этом случае нигде в этой
ветви не используйте wait.
 Имейте в виду, что в инвентаре монстра должно быть место, а сам монстр
должен иметь достаточную силу, чтобы взять необходимый предмет. Я рекомендую
позволять монстрам с этим триггером брать только те предметы, на которые
они реагируют (т.е. не брать хлам), и удалять их сразу же, после того, как
они будут перестают быть нужны.
#0
MTrig_Fight
Описание : 
  Этот триггер проверяется каждый раунд боя до или после того, как монстр нанес 
свой primary удар (удар первой рукой). Имейте в виду, что если монстр наносит
более одной атаки за раунд(extraattack>0), то этот триггер будет вызван столько 
раз, сколько у монстра атак.
  Аргумент: Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение: Не используется.
  Переменные:
    actor это персонаж, с которым дерется монстр.

  В основном этот триггер используют для того, чтобы добавлять монстрам
спецаатаки.
#0
MTrig_HitPrcnt
  Описание : Этот триггер проверяется во время боя когда hit points монстра упадут 
ниже процента, указанного в числовом аргументе. Используется довольно редко.
  Аргумент : Не используется.
  Числовой аргумент : Это процент, ниже которого должны упасть hit points монстра 
 чтобы этот триггер был проверен. 
  Возвращаемое значение: Не используется.
  Переменные:
    actor это персонаж, с которым дерется монстр.

  Триггер вызывается после того, как монстр нанес атаку.
#0
MTrig_Bribe
Описание : Этот триггер проверяется когда монстру дали деньги.
  Аргумент: Не используется.
  Числовой аргумент: Это минимальное количество монет, которое нужно дать монстру 
 чтобы активировался триггер. 
  Возвращаемое значение: Не используется.
  Переменные:
    actor установлен на персонажа, дающего монстру монеты.
    amount это количество монет, которые дали монстру. 

  Имейте в виду, что данные монстру деньги остаются у него в виде
кучки монет захламляя его инвентарь. Лучше удалять эти кучки.
#0
MTrig_Load
Описание : Триггер проверяется в момент загрузки моба в игру.
  Аргумент: Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение: Не используется.
  Переменные: Нет. 
#0
MTrig_Memory
Описание : 
   !!!ВНИМАНИЕ!!! Я не вижу смысла использовать этот триггер, когда есть 
greet-триггер и переменные, поэтому не используйте его. (если конечно у 
Вас нет каких-нибудь глубоких мыслей - в этом случае сообщите эти мысли мне)
  Этот триггер проверяется когда моб встречает персонажа помещенного в 
его 'память командой mremember, и при этом командой mremember не определена команда. 
Каждый моб использующий команду mremember ДОЛЖЕН иметь memory триггер, даже если 
он никогда не будет запущен.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Не используется.
  Переменные:
     actor это персонаж, который будет 'запомнен'. 
#0
OTrig_Global
Описание : Это не триггер сам по себе, но используется вместе с другими типами триггеров. 
Триггер который определен как глобальный (global) проверяется даже если в зоне с предметом 
нет ни одного игрока. 
  Аргумент : Не используется.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
OTrig_Random
Описание : Этот триггер проверяется периодически (на данный момент каждые 14 секунд).
  Аргумент: Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
OTrig_Command
Описание : Этот триггер проверяется когда персонаж ввел недопустимую команду или команду, 
результат которой будет 'Вы не можете делать этого здесь!', в той-же комнате, где находится 
предмет с этим триггером. Если введенная команда является подстрокой аргумента, триггер 
будет вызван. 
  Аргумент : Имя команды.
  Числовой аргумент: Определяет, где должен находиться предмет, чтобы триггер сработал. 
     1 - в equipment персонажа. 
     2 - в inventory персонажа. 
     4 - в комнате с персонажем. 
     Чтобы позволить предмету находиться сразу в нескольких местах, сложите между собой 
    нужные числа. Например, если числовой аргумент будет 3, триггер сработает если 
    предмет будет в inventory или equipment персонажа. Если установлено число 7, триггер 
    сработает в inventory, equipment, или в комнате. 
  Возвращаемое значение : Если триггер вернул значение 0, персонаж получит сообщение, которое он получил бы, если бы триггер не существовал и все остальные командные триггеры будут проверены. 
  Переменные:
     actor установлена на персонажа, вводившего команду.
     arg установлена на аргумент команды.
     cmd установлена на команду введенную персонажем.
#0
OTrig_Timer
Описание : !!! ВНИМАНИЕ !!!
   !!!ВНИМАНИЕ!!! Я не вижу ситуаций когда имеет смысл использовать этот 
триггер, поэтому не используйте его. (если конечно у Вас нет каких-нибудь 
глубоких мыслей - в этом случае сообщите эти мысли мне)

  Триггер запускается как только счетчик предмета (устанавливаемый 
командой otimer) будет обнулен.
  Аргумент : Не используется.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Ignored.
  Переменные:None
#0
OTrig_Get
Описание : Этот триггер проверяется когда предмет подобрали.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если возвращен 0, предмет не будет подобран. Для любого 
  другого числа, предмет уйдет в inventory персонажа как обычно. 
  Переменные:
    actor установлена на монстра, который подобрал предмет.

  Выполняется непосредственно ДО поднятия предмета.
#0
OTrig_Drop
Описание : Этот триггер проверяется когда персонаж пытается выкинуть предмет с Drop 
триггером.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если возвращен 0, предмет не будет выкинут. Для любого 
  другого числа, предмет уйдет в комнату как обычно. 
  Переменные:
    actor установлена на персонажа, попытавшегося выкинуть предмет.

  Выполняется непосредственно ДО выбрасывания предмета.
#0
OTrig_Give
Описание : Этот триггер проверяется когда кто-то пытается дать кому-то предмет.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если возвращаемое значение это 0, предмет не будет отдан жертве. 
  Для любого другого возвращаемого значения, передача пройдет как обычно. 
  Переменные:
    actor это персонаж, который отдает предмет.
    victim это персонаж, который принимает предмет.

  Выполняется непосредственно ДО передачи предмета.
#0
OTrig_Wear
Описание : Этот триггер проверяется когда монстр пытается надеть предмет.
  Аргумент : Не используется.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Если возвращен 0, предмет не надевается.
  Переменные:
    actor установлена на персонажа, пытающегося надеть предмет.

  Выполняется непосредственно ДО одевания предмета.
#0
OTrig_Remove
Описание : Этот триггер проверяется когда монстр пытается снять предмет.
  Аргумент : Не используется.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Если возвращен 0, предмет не снимается.
  Переменные:
    actor установлена на персонажа, пытающегося снять предмет.

  Выполняется непосредственно ДО снимания предмета.
#0
WTrig_Global
   !!!ВНИМАНИЕ!!! Я не вижу ситуаций когда имеет смысл использовать этот 
триггер, поэтому не используйте его. (если конечно у Вас нет каких-нибудь 
глубоких мыслей - в этом случае сообщите эти мысли мне)

Описание : Это не триггер сам по себе, но используется вместе с другими типами 
триггеров. Триггер который определен как глобальный (global) проверяется даже если 
в зоне нет ни одного игрока. 
  Аргумент : Не используется.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
WTrig_Random           
  Описание : Этот триггер проверяется периодически (примерно каждые 11 секунд). 
Триггер не проверяется если нет ни одного игрока в зоне, за исключением триггеров 
типа Global (см выше). 
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
WTrig_Command
  Описание : Этот триггер проверяется когда персонаж ввел недопустимую команду или 
команду, результат которой будет 'Вы не можете делать этого здесь!', в комнате 
с триггером. Если введенная команда является подстрокой аргумента, триггер будет вызван. 
  Аргумент : The command name.
  Числовой аргумент : Не используется.
  Возвращаемое значение : Если триггер вернул значение 0, персонаж получит сообщение, 
которое он получил бы, если бы триггер не существовал и все остальные командные триггеры будут проверены. 
  Переменные:
    actor установлена на персонажа, вводившего команду.
    arg установлена на аргумент команды.
    cmd установлена на команду введенную персонажем. 
#0
WTrig_Speech
  Описание : Этот триггер проверяется когда кто-то скажет что-то в комнате с этим триггером. 
Если числовой аргумент это 0, триггер проверит, является ли аргумент подстрокой того что 
было сказано. Если числовой аргумент это 1, триггер проверит, совпадает ли любое слово 
в аргументе со словом, которое было сказано, и если это так, триггер будет вызван. 
  Аргумент : Фраза или список слов для сравнения
  Числовой аргумент : Если он 0, аргумент это фраза. Если 1, аргумент это список слов.
  Возвращаемое значение : Не используется.
  Переменные:
     actor установлена на персонажа, который говорит.
     speech установлена на весь текст, который был произнесен.
#0
WTrig_Reset
  Описание : Триггер вызывается каждый раз при ресете зоны.
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Не используется.
  Переменные : Нет.
#0
WTrig_Enter
  Описание : Этот триггер проверяется когда кто-то входит в комнату. Проверка происходит 
сразу до того, как персонаж зашел в комнату и если Вы хотите чтобы действие произошло 
в комнате, в которую входит персонаж, используйте wait или телепортируйте персонажа. 
(Смотрите Команды Скриптов для дополнительной информации про wait и teleport.) 
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если возвращаемое значение это 0, персонаж не зайдет в комнату. 
 Для любых других возвращаемых значений, персонаж зайдет в комнату как обычно. 
  Переменные:
    actor установлена на персонажа, который входит в комнату.
    direction установлена на направление откуда пришел персонаж. (Точнее на направление противоположное тому куда он ушел).
 
#0
WTrig_Drop
  Описание : Этот триггер проверяется когда персонаж пытается выкинут что-то в комнате. 
Проверка происходит до того как персонаж на самом деле выкинет предмет. 
  Аргумент : Не используется.
  Числовой аргумент : Процентные шансы того, что триггер будет запущен после проверки.
  Возвращаемое значение : Если 0 возвращен, предмет не будет выкинут. В противном 
 случае предмет будет выкинут как обычно.
  Переменные:
    actor установлена на персонажа, выкидывающего предмет.
    object установлена на предмет, который выкидывают.

  В случае если выкидывается несколко предметов за раз (бросить все) триггер
 будет вызван для каждого предмета.
#0
MTRIG_VAR_Reset
  Описание: Этот триггер вызывается когда происходит ресет переменной принадлежащей
объекту к которому прицеплен этот триггер.
  Аргумент: Не используется
  Числовой аргумент: процент запуска триггера
  Возвращаемое значение: не используется
  Переменные:
   var         имя переменной которая сбрасывается
   msg         событие инициатор ресета
               одно из:
                  "round",
                  "reset_zone",
                  "die_pc",
                  "die_mob",
                  "extract_obj",
                  "rent_pc"
#0
OTRIG_VAR_Reset
  Описание: Этот триггер вызывается когда происходит ресет переменной принадлежащей
объекту к которому прицеплен этот триггер.
  Аргумент: Не используется
  Числовой аргумент: процент запуска триггера
  Возвращаемое значение: не используется
  Переменные:
   var         имя переменной которая сбрасывается
   msg         событие инициатор ресета
               одно из:
                  "round",
                  "reset_zone",
                  "die_pc",
                  "die_mob",
                  "extract_obj",
                  "rent_pc"
#0
WTRIG_VAR_Reset
  Описание: Этот триггер вызывается когда происходит ресет переменной принадлежащей
объекту к которому прицеплен этот триггер.
  Аргумент: Не используется
  Числовой аргумент: процент запуска триггера
  Возвращаемое значение: не используется
  Переменные:
   var         имя переменной которая сбрасывается
   msg         событие инициатор ресета
               одно из:
                  "round",
                  "reset_zone",
                  "die_pc",
                  "die_mob",
                  "extract_obj",
                  "rent_pc"
$